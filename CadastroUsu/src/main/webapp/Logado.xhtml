<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      template="Template.xhtml">

<h1>Tela do Usuário</h1>
<hr/>

<h:form>

	<p:panelGrid columns="2">
	
		<p:dataTable value = "#{usuariosCon.listaUsu}" var="usuario">
		
			<p:column headerText="Nome">
			
				<h:outputText value="#{usuario.nome}"/>
			
			</p:column>
			
			<p:column headerText="DDD">
			
				<h:outputText value="#{usuario.telefone[0].ddd}"/>
			
			</p:column>
			
			<p:column headerText="Telefone Celular">
			
				<h:outputText value="#{usuario.telefone[0].numero}"/>
			
			</p:column>
			
			<p:column>
				<p:commandButton value="Remover" action="#{usuariosCon.remover(usuario)}" update="@form"/>
			</p:column>
			
			<p:column>
				<p:commandButton value="Editar" action="#{usuariosCon.telaEditar(usuario)}" update="@form"/>
			</p:column>
		
		</p:dataTable>
	
	</p:panelGrid>
	<p:commandButton value="Listar Usuários" action="#{usuariosCon.buscar()}" update="@form"/>
	

</h:form>

</ui:decorate>